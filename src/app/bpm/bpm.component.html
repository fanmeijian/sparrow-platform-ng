<!-- <button (click)="ep()">导出</button> -->
<!-- <ng-bpmn #ucBpmn type="modeler"></ng-bpmn> -->
<!-- <div #ucBpmn class="diagram-container"></div> -->
<!-- <li *ngFor="let item of list">{{item.name + item.started + item.potentialGroups + item.referenceName}}</li> -->

<div class="table-responsive">
    

Processes
<button mat-button (click)="startProcess();">start process</button>
<table mat-table [dataSource]="dataSourceProcess">
    
    <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> # </th>
        <td mat-cell *matCellDef="let o">
            <span *ngIf="o._links">{{o.start}}</span> </td>
    </ng-container>

    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> 名称 </th>
        <td mat-cell *matCellDef="let o">
            <span *ngIf="!o.action">{{o.start}}</span>
            <mat-form-field *ngIf="o.action">
                <!-- <mat-label>名称</mat-label> -->
                <input matInput [(ngModel)]="o.started" />
            </mat-form-field>
        </td>
    </ng-container>

    <ng-container matColumnDef="code">
        <th mat-header-cell *matHeaderCellDef> 代码 </th>
        <td mat-cell *matCellDef="let o">
            <span *ngIf="!o.action">{{o.referenceName}}</span>
            <mat-form-field *ngIf="o.action">
                <!-- <mat-label>代码</mat-label> -->
                <input matInput [(ngModel)]="o.referenceName" />
            </mat-form-field>
        </td>
    </ng-container>

    <ng-container matColumnDef="member">
        <th mat-header-cell *matHeaderCellDef> 组员 </th>
        <td mat-cell *matCellDef="let o">
            <span *ngIf="!o.action">{{o.state}}</span>
            <mat-form-field *ngIf="o.action">
                <!-- <mat-label>代码</mat-label> -->
                <input matInput [(ngModel)]="o.state" />
            </mat-form-field>
        </td>
    </ng-container>

    <ng-container matColumnDef="stat">
        <th mat-header-cell *matHeaderCellDef> 状态 </th>
        <td mat-cell *matCellDef="let o">
            <span *ngIf="!o.action">{{o.processId}}</span>
            <mat-form-field *ngIf="o.action">
                <!-- <mat-label>状态</mat-label> -->
                <input matInput [(ngModel)]="o.processId" />
            </mat-form-field>
        </td>
    </ng-container>

    <ng-container matColumnDef="operation">
        <th mat-header-cell *matHeaderCellDef> 操作 </th>
        <td mat-cell *matCellDef="let o;let i = index">
            <ng-container *ngIf="!o.action">
                <button mat-icon-button (click)="openDialog(o);">
                    <mat-icon>edit</mat-icon>
                </button>

                <button mat-icon-button (click)="delete(o)">
                    <mat-icon>delete</mat-icon>
                </button>
            </ng-container>
            <ng-container *ngIf="o.action">
                <button mat-button color="primary" (click)="save(o,i);">保存</button>
                <button mat-button color="primary" (click)="cancel(o,i);">取消</button>
            </ng-container>

        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay;sticky:true"></tr>
    <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>

</table>

    </div>
    <!-- <mat-paginator [length]="total" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons
        (page)="pageChange($event);">
    </mat-paginator> -->

<ng-template #sparrowTrial>
    <mat-card style="width: 30%;margin: 10px;align-self: center;">
        <mat-card-title>申请试用</mat-card-title>
        <mat-card-content>
            <mat-form-field>
                <mat-label>姓名</mat-label>
                <input matInput [(ngModel)]="trialApply.name">
            </mat-form-field>
            <mat-form-field>
                <mat-label>公司</mat-label>
                <input matInput [(ngModel)]="trialApply.company">
            </mat-form-field>
            <mat-form-field>
                <mat-label>邮箱</mat-label>
                <input matInput [(ngModel)]="trialApply.email">
            </mat-form-field>
            <mat-form-field>
                <mat-label>手机</mat-label>
                <input matInput [(ngModel)]="trialApply.mobile">
            </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button color='primary' (click)="apply();">提交</button>
        </mat-card-actions>
    </mat-card>
</ng-template>

<!-- 


<mat-card style="width: 30%;margin: 10px;align-self: center;">
    <mat-card-title>合作意向审批</mat-card-title>
    <mat-card-content>
        <mat-form-field>
            <mat-label>姓名</mat-label>
            <input matInput [(ngModel)]="process.trialApply.name">
        </mat-form-field>
        <mat-form-field>
            <mat-label>公司</mat-label>
            <input matInput [(ngModel)]="process.trialApply.company">
        </mat-form-field>
        <mat-form-field>
            <mat-label>邮箱</mat-label>
            <input matInput [(ngModel)]="process.trialApply.email">
        </mat-form-field>
        <mat-form-field>
            <mat-label>手机</mat-label>
            <input matInput [(ngModel)]="process.trialApply.mobile">
        </mat-form-field>
        <mat-radio-group aria-label="合作意向" [(ngModel)]="process.cooperativeIntention">
            <mat-radio-button value="true">有</mat-radio-button>
            <mat-radio-button value="false">无</mat-radio-button>
          </mat-radio-group>
    </mat-card-content>
    <mat-card-actions>
        <button mat-button color='primary' (click)="complete();">提交</button>
    </mat-card-actions>
</mat-card> -->